<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (WinNT; I) [Netscape]">
   <title>... in Java by Richard G Baldwin</title>
</head>
<body link="#DD0000" vlink="#999999" alink="#FF0000" lang="EN-US">

<h2>
Enterprise JavaBeans(TM):&nbsp; Getting Started with EJB, Part 4</h2>
<b>Published</b>&nbsp; December 25, 2000
<br><b>By <a href="#BaldwinBio">Richard G. Baldwin</a></b>
<p>Java Programming, Lecture Notes # 1313
<ul >
<li>
<a href="#Preface">Preface</a></li>

<li>
<a href="#Preview">Preview</a></li>

<li>
<a href="#Introduction">Introduction</a></li>

<li>
<a href="#Sample Bean Program">Sample Bean Program</a></li>

<li>
<a href="#Creating the J2EE Application">Creating the J2EE Application</a></li>

<li>
<a href="#Summary">Summary</a></li>

<li>
<a href="#Where To From Here">Where To From Here?</a></li>

<li>
<a href="#Complete Program Listings">Complete Program Listings</a></li>
</ul>

<hr size=3 width="100%" align=center>
<center>
<h2>
<a NAME="Preface"></a>Preface</h2></center>
This is one in a series of lessons designed to teach you about Sun's Enterprise
JavaBeans (EJB).
<p>This lesson is also the fourth lesson in a miniseries intended to get
you up and running with Sun's Enterprise JavaBeans(TM) very quickly.
<center>
<h2>
<a NAME="Preview"></a>Preview</h2></center>
<font color="#000000">The following steps are required to deploy your bean
into the J2EE server:</font>
<ul>
<li>
<font color="#000000">Create the J2EE Application</font></li>

<li>
<font color="#000000">Package the Enterprise Bean</font></li>

<li>
<font color="#000000">Deploy the J2EE Application</font></li>
</ul>
<font color="#000000">This lesson will show you how to accomplish the first
of the three steps listed above.</font>
<p><font color="#000000">Along the way, you will learn how to start and
stop the J2EE server.&nbsp; You will learn how to expose the J2EE options,
and you will learn how to start the <b>deploytool</b> program.</font>
<p><font color="#000000">You will get your first look at the <b>deploytool</b>
GUI and use it to create your application.</font>
<center>
<h2>
<a NAME="Introduction"></a>Introduction</h2></center>
<b><font color="#FF0000">Writing, compiling, deploying and executing a
simple bean</font></b>
<p>The lessons in this miniseries will show you the steps involved in writing,
compiling, deploying and executing a simple bean.&nbsp; The discussion
will be brief, and is intended primarily to get you to the point that you
can get something running very quickly.
<p><b><font color="#FF0000">More details in subsequent lessons</font></b>
<p>Subsequent lessons will come back and fill in the gaps to help you more-fully
understand each of the steps.
<p>Subsequent lessons will also teach you about the different kinds of
beans and how to use those beans in different situations.
<p><b><font color="#FF0000">Recommended supplementary reading</font></b>
<p>It is strongly recommended that you study the previous lesson entitled
<i>Enterprise
JavaBeans(TM), Getting Started with EJB, Part 3</i> before embarking on
this lesson.
<p>Additional supplementary material that I have written is available at
<a href="http://gamelan.earthweb.com/dlink.index-jhtml.72.1082.-.43.jhtml">Gamelan</a>.&nbsp;
As of the date of this writing, Gamelan does not maintain a consolidated
index to my Java tutorials.&nbsp; Therefore, they may be difficult to locate
on the Gamelan site.&nbsp; A consolidated index with links to the tutorials
on the Gamelan site is available at
<i>Baldwin's Java Programming <a href="http://www.geocities.com/Athens/7077/scoop/onjava.html">Tutorials</a></i><font color="#000000">.</font>
<p><b><font color="#FF0000">The required steps</font></b>
<p><font color="#000000">An earlier lesson entitled <i>Getting Started
with EJB, Part 1 </i>contained a list of the required steps for </font>writing,
compiling, deploying and executing a simple bean.&nbsp; Abbreviated versions
of the first seven steps in that list are repeated below.
<ul>
<li>
<font color="#000000">Download and install Java 2 Platform, Standard Edition
from Sun.</font></li>

<li>
<font color="#000000">Download and install the Java 2 Platform, Enterprise
Edition.</font></li>

<li>
<font color="#000000">Write the bean class and required helper classes.</font></li>

<li>
<font color="#000000">Write home and remote interfaces.</font></li>

<li>
<font color="#000000">Write a compilation batch file for the bean and the
interfaces.</font></li>

<li>
<font color="#000000">Compile the bean class, helper classes, and interfaces.</font></li>

<li>
<i>Use Sun's J2EE <b>deploytool</b> program to deploy the bean into the
server.</i></li>
</ul>
<b><font color="#FF0000">Class files available</font></b>
<p>The first six steps were discussed in earlier lessons, and I am assuming
that you have completed those steps.&nbsp; Having completed them, you should
have the class files necessary to deploy your bean into the J2EE server.
<p>Deployment of the bean is the subject of the last step in the above
list, and is also the topic of this lesson.
<p><b><font color="#FF0000">Watch that last step, it's a big one</font></b>
<p>The last step shown above is a big one, so I have subdivided it into
several sequential lessons, beginning with the previous lesson entitled
<i>Getting
Started with EJB, Part 3</i>.
<p><b><font color="#FF0000">The detailed steps</font></b>
<p>In this group of lessons associated with deployment, I am walking you
through the detailed steps necessary to deploy your new bean in the J2EE
server.&nbsp; Those steps are:
<ul>
<li>
Create the J2EE Application</li>

<li>
Package the Enterprise Bean</li>

<li>
Deploy the J2EE Application</li>
</ul>
I am providing instructions for accomplishing those three steps in cookbook
fashion, meaning that I will tell you what to do but not necessarily why
to do it.
<p>This lesson deals with the first of the three steps.
<p><b><font color="#FF0000">Viewing tip</font></b>
<p>Deploying a bean can be very tedious and a little complex.&nbsp; This
and the following lessons provide screen shots of the critical steps in
the process.&nbsp; You may find it useful to open another copy of this
lesson in a separate browser window.&nbsp; That will make it easier for
you to scroll back and forth and refer to earlier material and figures,
without losing your place.
<p><b><font color="#FF0000">Beans versus beans</font></b>
<p><font color="#000000">Just in case you are reading this lesson without
having read the earlier lessons in this series, I will tell you that an
enterprise bean is not the same thing as a <i>JavaBean Component(TM)</i>,
as discussed in my series of <a href="http://www.geocities.com/Athens/7077/scoop/onjava.html">tutorial
lessons</a> beginning with lesson number 500.</font>
<center>
<h2>
<a NAME="Sample Bean Program"></a><font color="#000000">Sample Bean Program</font></h2></center>
<b><font color="#FF0000">Class files</font></b>
<p><font color="#000000">At this point, you should have the following three
class files as a result of compiling the bean class and the two interfaces
during previous lessons.&nbsp; Make sure that you have them all located
conveniently in the same directory.</font>
<ul>
<li>
<font color="#000000">HelloBean.class</font></li>

<li>
<font color="#000000">HelloHome.class</font></li>

<li>
<font color="#000000">Hello.class</font></li>
</ul>
<font color="#000000">The first of these is the class file for the bean
proper.&nbsp; The second is the class file for the home interface.&nbsp;
The third is the class file for the remote interface.</font>
<p>A complete listing of the bean program and the two required interfaces
is provided near the end of this lesson.
<center>
<h2>
<a NAME="Creating the J2EE Application"></a>Creating the J2EE Application</h2></center>
As described in the previous lesson, you do not deploy an enterprise bean
directly into the J2EE server.&nbsp; Rather you must first create a J2EE
application and then add the bean to the J2EE application.&nbsp; Then,
you then deploy the application into the J2EE server.
<p><b><font color="#FF0000">Step-by-step instructions</font></b>
<p>This lesson will contain the step-by-step instructions for creating
a new J2EE application named <b>HelloApp</b> and for storing the application
in a file named <b>HelloApp.ear</b>.
<p><b><font color="#FF0000">Windows NT</font></b>
<p>These instructions are written for use with a Windows NT operating system.&nbsp;
If you are using some other operating system, you will need to translate
these instructions into the terminology of that operating system.
<p><b><font color="#FF0000">Get two Command Prompt windows</font></b>
<p>The first thing that you need to do is to open two <i>Command Prompt</i>
windows.&nbsp; If you know how to use the JDK from Sun for compiling and
executing Java applications at the command line, you already know how to
do this.
<p><b><font color="#FF0000">If you don't know how ...</font></b>
<p>If you don't already know how to do it, you should be able to open the
<i>Start</i>
menu <i>(on the lower left of your screen)</i> and then select
<i>Programs</i>.&nbsp;
There you should find an entry for <i>Command Prompt</i>.&nbsp; Choose
that entry to open the window.&nbsp; Do this twice to open two separate
windows.
<p>From here on, I will refer to the <i>Command Prompt </i>windows simply
as windows.
<p><b><font color="#FF0000">Start the J2EE server</font></b>
<p>To start the J2EE server running, enter the following command at the
prompt in one of the windows:
<p><b>j2ee -verbose</b>
<p>The <i>-verbose</i> parameter causes output from the server to be displayed
in the window where the server is running.&nbsp; If you leave it off, output
from the server will be sent to a log file.
<p><b><font color="#FF0000">The screen output</font></b>
<p>Listing 1 is a partial screen shot of the kinds of information that
you should see on your screen as the server starts and progresses to the
ready state.&nbsp; For brevity, I have deleted several lines of material
in the middle of the sequence and have replaced those lines with ...&nbsp;
I also inserted some manual line breaks to force the material to fit in
this narrow format.
<br>&nbsp;
<table BORDER COLS=1 WIDTH="400" BGCOLOR="#FFFF00" >
<tr>
<td><tt><font size=-1>C:\jnk>j2ee -verbose</font></tt>
<p><tt><font size=-1>J2EE server Listen Port: = 1049</font></tt>
<br><tt><font size=-1>Naming service started: :1050</font></tt>
<br><tt><font size=-1>Published the configuration object ...</font></tt>
<br><tt><font size=-1>Binding DataSource, name = jdbc/Cloudscape,&nbsp;</font></tt>
<br><tt><font size=-1>url = jdbc:cloudscape:rmi:Cloudscape</font></tt>
<br><tt><font size=-1>B;create=true</font></tt>
<br><tt><font size=-1>Web service started: 9191</font></tt>
<br><tt><font size=-1>Web service started: 8000</font></tt>
<br><tt><font size=-1>Web service started: 7000</font></tt>
<br><tt><font size=-1>Loading</font></tt>
<br><tt><font size=-1>...</font></tt>
<pre><tt><font size=-1>J2EE server startup complete.

<b>Listing 1</b></font></tt></pre>
</td>
</tr>
</table>

<p><b><font color="#FF0000">The last line is critical</font></b>
<p>The critical thing to note is that the last line shown above should
appear indicating that the server is ready.&nbsp; If it doesn't appear,
there is no point in starting the deployment tool <i>(as described later)</i>.
<p><b><font color="#FF0000">No prompt should appear</font></b>
<p>The prompt should not reappear until you stop the server.&nbsp; If the
prompt does reappear, it will probably be preceded by an error message
of some sort indicating that the server did not start running properly.
<p><b><font color="#FF0000">J2EE options</font></b>
<p>You can learn more about the J2EE options by entering the parameter
-? as shown by the <i>(reformatted)</i> screen shot in Listing 2,
<br>&nbsp;
<table BORDER COLS=1 WIDTH="400" BGCOLOR="#FFFF00" >
<tr>
<td><tt><font size=-1>C:\jnk>j2ee -?</font></tt>
<p><tt><font size=-1>Java 2 Enterprise Edition Server</font></tt>
<br><tt><font size=-1>Options:</font></tt>
<br><tt><font size=-1>-verbose&nbsp;&nbsp; Redirect all logging output
to</font></tt>
<br><tt><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
the current shell.</font></tt>
<br><tt><font size=-1>-help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Print this help
message.</font></tt>
<br><tt><font size=-1>-version&nbsp;&nbsp; Print the version.</font></tt>
<br><tt><font size=-1>-singleVM&nbsp; Deploys all beans in this process.</font></tt>
<br><tt><font size=-1>-multiVM&nbsp;&nbsp; Deploys all beans in a jar file</font></tt>
<br><tt><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in a new process.</font></tt>
<pre><tt><font size=-1>-stop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Stop the J2EE server.

<b>Listing 2</b></font></tt></pre>
</td>
</tr>
</table>

<p><b><font color="#FF0000">Stopping the server</font></b>
<p>As you can see, to stop the server, you must enter <b>j2ee -stop</b>
in a different window.&nbsp; When you do that, the prompt will reappear
in the window in which the server is running.
<p><b><font color="#FF0000">The J2EE version</font></b>
<p>Entry of <b>j2ee -version</b> while writing this lesson produced the
following output.
<p><b><tt><font size=-1>Java 2 Enterprise Edition version 1.2.1</font></tt></b>
<p>Thus, the deployment instructions that follow in this and subsequent
lessons are based on version 1.2.1.
<p><b><font color="#FF0000">Using later versions of J2EE</font></b>
<p>As new versions of J2EE are released, adjustments may need to be made
to these instructions, depending on the changes that are made in succeeding
versions of J2EE.&nbsp; Hopefully the product will remain sufficiently
stable that these instructions will continue to be a useful guide in getting
your first enterprise bean up and running, even for later versions of J2EE.
<p><b><font color="#FF0000">Starting the deployment tool</font></b>
<p>Once the server has been started successfully, you need to start the
deployment tool.&nbsp; To do this, enter the following command at the prompt
in another window:
<p><b>deploytool</b>
<p><b><font color="#FF0000">The main deployment screen</font></b>
<p>A splash screen will appear first.&nbsp; This will be followed by a
screen that looks similar to Figure 1.&nbsp; This is the main deployment
screen.
<p>This screen is a very large dialog box with dimensions of 841 x 736
pixels, so I had to reduce it considerably to make it fit in this format.
<p><b><font color="#FF0000">Previously deployed applications</font></b>
<p>The tall rectangular area on the left in Figure 1 contains a tree display
showing previously deployed applications.&nbsp; When you deploy your first
application, this frame will initially be empty.&nbsp; As you deploy new
applications into the server, they will appear in this frame each time
you start the deployment tool running.
<center>
<p><img SRC="java1313a.gif" height=350 width=400>
<p>Figure 1 The J2EE Deployment Tool Main Screen</center>

<p><b><font color="#FF0000">Additional screen shots</font></b>
<p>I will supplement the deployment instructions with screen shots like
Figure 1 at critical points in the process.&nbsp; Because of the need to
reduce the image for display, you often won't be able to read the text
in the screen shots.&nbsp; However, I believe that the screen shots will
help you make sure that you are at the right place in the deployment process.
<p><b><font color="#FF0000">Color coded for clarity</font></b>
<p>The following text will be a mixture of action statements and explanatory
text.&nbsp; I will color the actions statements the following color of
<font color="#3366FF">blue</font>
to make them easy to separate from the explanatory text.
<p><b><font color="#FF0000">Create your new J2EE application</font></b>
<p>Here are the steps for creating your new application using the deployment
tool:
<ul>
<li>
<font color="#3366FF">Select the <i>File</i> menu.</font>&nbsp; A pulldown
menu will appear.</li>

<li>
<font color="#3366FF">Choose <i>New Application</i> in the pulldown file
menu.</font></li>

<li>
<font color="#3366FF">Click <i>Browse</i>.</font>&nbsp; A file chooser
will appear.</li>

<li>
In the file chooser, <font color="#3366FF">locate the directory</font>
where you want to place the .ear file that contains the J2EE application.</li>

<li>
<font color="#3366FF">Enter <b>HelloApp.ear</b></font> in the File name
field.</li>

<li>
<font color="#3366FF">Click <i>New Application</i>.</font>&nbsp; This causes
a smaller dialog box to appear showing the path and name of your ear file
in one text field and the <i>ApplicationDisplayName</i> in a second text
field.</li>

<li>
<font color="#3366FF">Click <i>OK</i></font> to accept these two names.</li>
</ul>
<b><font color="#FF0000">Your new application is still empty</font></b>
<p>Your new application has now been created, but at this point it is empty.&nbsp;
If you are monitoring the directory specified as the location of the ear
file, you should notice that a file named <b>HelloApp.ear</b> has appeared
in that directory.
<p><b><font color="#FF0000">Back to main deployment screen</font></b>
<p>At this point, you should be back to the screen shown in Figure 1.&nbsp;
You can terminate the deployment tool by <font color="#3366FF">selecting
<i>Exit
</i></font>from
the file menu.&nbsp; You can also terminate the server by <font color="#3366FF">entering
j2ee - stop</font> in a window other than the window in which the server
is running.
<center>
<h2>
<a NAME="Summary"></a>Summary</h2></center>
<font color="#000000">The following steps are required to deploy your bean
into the J2EE server:</font>
<ul>
<li>
<font color="#000000">Create the J2EE Application</font></li>

<li>
<font color="#000000">Package the Enterprise Bean</font></li>

<li>
<font color="#000000">Deploy the J2EE Application</font></li>
</ul>
<font color="#000000">This lesson has provided instructions for accomplishing
the first step.&nbsp; Along the way, you learned how to start and stop
the J2EE server.&nbsp; You learned how to expose the J2EE options, and
you learned how to start the <b>deploytool</b> program.&nbsp; You got your
first look at the <b>deploytool</b> GUI and used it to create your application.</font>
<center>
<h2>
<a NAME="Where To From Here"></a>Where To From Here?</h2></center>
The next lesson will walk you through the second of the three steps listed
above:&nbsp; Package the Enterprise Bean.
<center>
<h2>
<a NAME="Complete Program Listings"></a>Complete Program Listings</h2></center>
A complete listing of the bean program is shown in Listing 3 below.&nbsp;
Complete listings of the remote and home interfaces are shown in Listing
4 and Listing 5.
<br>&nbsp;
<table BORDER=2 CELLSPACING=0 CELLPADDING=0 WIDTH="399" BGCOLOR="#FFFF00" >
<tr>
<td VALIGN=TOP WIDTH="399" style="width:197.7pt;border:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt"><font face="Courier New,Courier"><font size=-2>/*
File HelloBean.java</font></font>
<br><font face="Courier New,Courier"><font size=-2>Copyright 2000 R.G.Baldwin</font></font>
<br><font face="Courier New,Courier"><font size=-2>Rev 9/15/00</font></font>
<p><font face="Courier New,Courier"><font size=-2>This bean receives and
returns a String object</font></font>
<br><font face="Courier New,Courier"><font size=-2>via a single business
method.&nbsp; It also displays</font></font>
<br><font face="Courier New,Courier"><font size=-2>information about its
life cycle in the&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>System.out log file
or on the system comsole</font></font>
<br><font face="Courier New,Courier"><font size=-2>depending on whether
or not System.out has been</font></font>
<br><font face="Courier New,Courier"><font size=-2>directed to the log
files.</font></font>
<p><font face="Courier New,Courier"><font size=-2>This is a stateless session
bean.&nbsp; According to</font></font>
<br><font face="Courier New,Courier"><font size=-2>Sun, a session bean
must meet the following</font></font>
<br><font face="Courier New,Courier"><font size=-2>reuirements:</font></font>
<p><font face="Courier New,Courier"><font size=-2>Implement the SessionBean
interface.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Class is defined as
public.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Class cannot be defined
as abstract or final.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Implements one or more
ejbCreate methods.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Implements the business
methods.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Contains a public constructor
with no&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; parameters.</font></font>
<br><font face="Courier New,Courier"><font size=-2>Must not define the
finalize method.</font></font>
<p><font face="Courier New,Courier"><font size=-2>Tested using Sun j2ee
and JDK 1.3 under&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>WinNT 4.0 workstation.</font></font>
<br><font face="Courier New,Courier"><font size=-2>***********************************************/</font></font>
<br><font face="Courier New,Courier"><font size=-2>import javax.ejb.*;</font></font>
<br><font face="Courier New,Courier"><font size=-2>import java.util.Date;</font></font>
<p><font face="Courier New,Courier"><font size=-2>public class HelloBean
implements SessionBean{</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; SessionContext
ctx;</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public void ejbCreate(){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; System.out.println("HelloBean
Created "&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+ new Date());</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//end ejbCreate()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public String
aBusinessMethod(String str){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; return
"Hello " + str;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//end aBusinessMethod()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public void ejbRemove(){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; System.out.println("HelloBean
Removed "&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+ new Date());</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//end ejbRemove()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public void ejbActivate(){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; System.out.println("HelloBean
Activated "&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+ new Date());</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//end ejbActivate()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public void ejbPassivate(){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; System.out.println("HelloBean
Passivated "&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+ new Date());</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//ejbPassivate()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public void setSessionContext(</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SessionContext ctx){</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; this.ctx
= ctx;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp; System.out.println(</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
"HelloBean got SessionContext "&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+ new Date());</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; }//setSessionContext()</font></font>
<p><font face="Courier New,Courier"><font size=-2>&nbsp; public HelloBean(){}//public
constructor</font></font>
<p><font face="Courier New,Courier"><font size=-2>}//end class HelloBean</font></font>
<br>&nbsp;
<p><b><font face="Courier New,Courier"><font size=-2>Listing 3</font></font></b></td>
</tr>
</table>

<br>&nbsp;
<table BORDER=2 CELLSPACING=0 CELLPADDING=0 WIDTH="399" BGCOLOR="#FFFF00" >
<tr>
<td VALIGN=TOP WIDTH="399" style="width:197.7pt;border:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt"><font face="Courier New,Courier"><font size=-2>/*
File HelloHome.java&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>Copyright 2000 R.G.Baldwin</font></font>
<br><font face="Courier New,Courier"><font size=-2>Rev 9/15/00</font></font>
<br><font face="Courier New,Courier"><font size=-2>***********************************************/</font></font>
<br><font face="Courier New,Courier"><font size=-2>import javax.ejb.*;</font></font>
<p><font face="Courier New,Courier"><font size=-2>public interface HelloHome
extends EJBHome{</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; public Hello
<b>create()</b></font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
throws java.rmi.RemoteException,&nbsp;</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
javax.ejb.CreateException;</font></font>
<br><font face="Courier New,Courier"><font size=-2>}//end interface</font></font>
<p><b><font face="Courier New,Courier"><font size=-2>Listing 4</font></font></b></td>
</tr>
</table>

<br>&nbsp;
<table BORDER=2 CELLSPACING=0 CELLPADDING=0 WIDTH="399" BGCOLOR="#FFFF00" >
<tr>
<td VALIGN=TOP WIDTH="399" style="width:197.7pt;border:double windowtext 1.5pt;
  padding:0in 5.4pt 0in 5.4pt"><font face="Courier New,Courier"><font size=-2>/*
File Hello.java</font></font>
<br><font face="Courier New,Courier"><font size=-2>Copyright 2000 R.G.Baldwin</font></font>
<br><font face="Courier New,Courier"><font size=-2>Rev 9/15/00</font></font>
<br><font face="Courier New,Courier"><font size=-2>***********************************************/</font></font>
<br><font face="Courier New,Courier"><font size=-2>import javax.ejb.*;</font></font>
<br><font face="Courier New,Courier"><font size=-2>import java.rmi.*;</font></font>
<p><font face="Courier New,Courier"><font size=-2>public interface Hello
extends EJBObject{</font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp; String <b>aBusinessMethod(String
s)</b></font></font>
<br><font face="Courier New,Courier"><font size=-2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
throws RemoteException;</font></font>
<br><font face="Courier New,Courier"><font size=-2>}//end interface</font></font>
<p><b><font face="Courier New,Courier"><font size=-2>Listing 5</font></font></b></td>
</tr>
</table>

<p>
<hr size=3 width="100%" align=center>
<p>Copyright 2000, Richard G. Baldwin.&nbsp; Reproduction in whole or in
part in any form or medium without express written permission from Richard
Baldwin is prohibited.
<h4>
<a NAME="BaldwinBio"></a>About the author</h4>
<b><a href="mailto:baldwin.richard@iname.com">Richard Baldwin</a></b><i>
is a college professor and private consultant whose primary focus is a
combination of Java and XML. In addition to the many platform-independent
benefits of Java applications, he believes that a combination of Java and
XML will become the primary driving force in the delivery of structured
information on the Web.</i>
<p><i>Richard has participated in numerous consulting projects involving
Java, XML, or a combination of the two.&nbsp; He frequently provides onsite
Java and/or XML training at the high-tech companies located in and around
Austin, Texas.&nbsp; He is the author of Baldwin's Java Programming <a href="http://www.geocities.com/Athens/7077/scoop/onjava.html">Tutorials</a>,
which has gained a worldwide following among experienced and aspiring Java
programmers. He has also published articles on Java Programming in Java
Pro magazine.</i>
<p><i>Richard holds an MSEE degree from Southern Methodist University and
has many years of experience in the application of computer technology
to real-world problems.</i>
<p><i><a href="mailto:baldwin.richard@iname.com">baldwin.richard@iname.com</a></i>
<p>-end-
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
</body>
</html>
